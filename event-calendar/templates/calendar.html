{% extends 'base.html' %}

{% block content %}
<div class="clearfix">
    <span class="left m-2" style="font-size: 20px;">Welcome, {{ request.user }}</span>
    <a class="btn btn-info right" href="{% url 'accounts:signout' %}"> Sign Out</a>
	<a class="btn btn-info right mr-2" href="{% url 'calendarapp:calendar' %}?{{ next_month }} "> Next Month >> </a>
    <a class="btn btn-info right mr-2" href="{% url 'calendarapp:calendar' %}?{{ prev_month }}"> << Previous Month </a>
    <a class="btn btn-info right mr-2" href="{% url 'calendarapp:event_new' %}"> + New Event </a>
</div>
<div style="color: blueviolet;">
    {{ calendar }}
</div>

{#    <script>#}
{#    let socket;#}
{#    if(!socket || socket.readyState === WebSocket.CLOSED) {#}
{#        const socket = new WebSocket('ws://' + window.location.hostname + ':5000/ws/notifications/');#}
{##}
{#        socket.onopen = function () {#}
{#            console.log('WebSocket connection established');#}
{#        };#}
{##}
{#        socket.onmessage = function (e) {#}
{#            console.log('Message received:', e.data);#}
{#            const data = JSON.parse(e.data);#}
{#            alert(data.message);#}
{#        };#}
{##}
{#        socket.onclose = function (e) {#}
{#            console.error('WebSocket closed unexpectedly');#}
{#        };#}
{##}
{#        socket.onerror = function (error) {#}
{#            console.error('WebSocket error:', error);#}
{#        };#}
{#    }#}
{#</script>#}
{% endblock %}
